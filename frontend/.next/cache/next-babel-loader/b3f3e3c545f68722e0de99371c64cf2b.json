{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/gabit/Desktop/Apps/sejadev/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/gabit/Desktop/Apps/sejadev/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\gabit\\\\Desktop\\\\Apps\\\\sejadev\\\\frontend\\\\src\\\\components\\\\Headers\\\\HomePageHeader.js\",\n    _s = $RefreshSig$();\n\nimport { useRouter } from 'next/router';\nimport styled from 'styled-components';\nimport ImageContainer from '../Containers/ImageContainer';\nimport Logo from '../Logo';\nimport NameEmailForm from '../NameEmailForm';\nvar Container = styled.div.withConfig({\n  displayName: \"HomePageHeader__Container\",\n  componentId: \"sc-1m87fyj-0\"\n})([\"display:flex;flex-direction:column;justify-content:center;min-height:80vh;color:\", \";padding-left:40px;\"], function (_ref) {\n  var theme = _ref.theme;\n  return theme.colors.light;\n});\n_c = Container;\nvar FormDiv = styled.div.withConfig({\n  displayName: \"HomePageHeader__FormDiv\",\n  componentId: \"sc-1m87fyj-1\"\n})([\"display:flex;flex-direction:row;align-items:center;justify-content:center;flex-shrink:0;\"]);\n_c2 = FormDiv;\nexport default function HomePageHeader() {\n  _s();\n\n  var router = useRouter();\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n      var name, email, NEXT_PUBLIC_API_URL, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              name = _ref2.name, email = _ref2.email;\n              NEXT_PUBLIC_API_URL = process.env.NEXT_PUBLIC_API_URL;\n              _context.next = 4;\n              return fetch(\"\".concat(NEXT_PUBLIC_API_URL, \"/secrets\"), {\n                method: 'POST',\n                body: JSON.stringify({\n                  name: name,\n                  email: email\n                })\n              });\n\n            case 4:\n              data = _context.sent;\n              _context.t0 = handleResponse;\n              _context.next = 8;\n              return data.json();\n\n            case 8:\n              _context.t1 = _context.sent;\n              (0, _context.t0)(_context.t1);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleResponse = function handleResponse(response) {\n    if (response.success) {\n      router.push(\"/secret/\".concat(response.id, \"?adminKey=\").concat(response.adminKey));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ImageContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"A melhor brincadeira do natal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormDiv, {\n      children: /*#__PURE__*/_jsxDEV(NameEmailForm, {\n        onSubmit: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n_s(HomePageHeader, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function () {\n  return [useRouter];\n});\n\n_c3 = HomePageHeader;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"FormDiv\");\n$RefreshReg$(_c3, \"HomePageHeader\");","map":{"version":3,"sources":["C:/Users/gabit/Desktop/Apps/sejadev/frontend/src/components/Headers/HomePageHeader.js"],"names":["useRouter","styled","ImageContainer","Logo","NameEmailForm","Container","div","theme","colors","light","FormDiv","HomePageHeader","router","handleSubmit","name","email","NEXT_PUBLIC_API_URL","process","env","fetch","method","body","JSON","stringify","data","handleResponse","json","response","success","push","id","adminKey"],"mappings":";;;;;;;AAAA,SAASA,SAAT,QAA0B,aAA1B;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AAEA,IAAMC,SAAS,GAAGJ,MAAM,CAACK,GAAV;AAAA;AAAA;AAAA,gHAKJ;AAAA,MAAGC,KAAH,QAAGA,KAAH;AAAA,SAAeA,KAAK,CAACC,MAAN,CAAaC,KAA5B;AAAA,CALI,CAAf;KAAMJ,S;AASN,IAAMK,OAAO,GAAGT,MAAM,CAACK,GAAV;AAAA;AAAA;AAAA,gGAAb;MAAMI,O;AAQN,eAAe,SAASC,cAAT,GAA2B;AAAA;;AACxC,MAAMC,MAAM,GAAGZ,SAAS,EAAxB;;AAEA,MAAMa,YAAY;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAQC,cAAAA,IAAR,SAAQA,IAAR,EAAcC,KAAd,SAAcA,KAAd;AACXC,cAAAA,mBADW,GACaC,OAAO,CAACC,GADrB,CACXF,mBADW;AAAA;AAAA,qBAGAG,KAAK,WAAIH,mBAAJ,eAAmC;AACzDI,gBAAAA,MAAM,EAAE,MADiD;AAEzDC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBT,kBAAAA,IAAI,EAAJA,IADmB;AAEnBC,kBAAAA,KAAK,EAALA;AAFmB,iBAAf;AAFmD,eAAnC,CAHL;;AAAA;AAGbS,cAAAA,IAHa;AAAA,4BAUnBC,cAVmB;AAAA;AAAA,qBAUED,IAAI,CAACE,IAAL,EAVF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZb,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAaA,MAAMY,cAAc,GAAG,SAAjBA,cAAiB,CAACE,QAAD,EAAc;AACnC,QAAIA,QAAQ,CAACC,OAAb,EAAsB;AACpBhB,MAAAA,MAAM,CAACiB,IAAP,mBAAuBF,QAAQ,CAACG,EAAhC,uBAA+CH,QAAQ,CAACI,QAAxD;AACD;AACF,GAJD;;AAMA,sBACE,QAAC,cAAD;AAAA,4BACE,QAAC,SAAD;AAAA,8BACE,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAKE,QAAC,OAAD;AAAA,6BACE,QAAC,aAAD;AAAe,QAAA,QAAQ,EAAElB;AAAzB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YALF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAWD;;GAjCuBF,c;UACPX,S;;;MADOW,c","sourcesContent":["import { useRouter } from 'next/router'\r\n\r\nimport styled from 'styled-components'\r\n\r\nimport ImageContainer from '../Containers/ImageContainer'\r\nimport Logo from '../Logo'\r\nimport NameEmailForm from '../NameEmailForm'\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  min-height: 80vh;\r\n  color: ${({ theme }) => theme.colors.light};\r\n  padding-left: 40px;\r\n`\r\n\r\nconst FormDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n`\r\n\r\nexport default function HomePageHeader () {\r\n  const router = useRouter()\r\n\r\n  const handleSubmit = async ({name, email}) => {\r\n    const { NEXT_PUBLIC_API_URL } = process.env\r\n\r\n    const data = await fetch(`${NEXT_PUBLIC_API_URL}/secrets`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        name,\r\n        email\r\n      })\r\n    })\r\n    handleResponse(await data.json())\r\n  }\r\n\r\n  const handleResponse = (response) => {\r\n    if (response.success) {\r\n      router.push(`/secret/${response.id}?adminKey=${response.adminKey}`)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <ImageContainer>\r\n      <Container>\r\n        <Logo />\r\n        <h2>A melhor brincadeira do natal</h2>\r\n      </Container>\r\n      <FormDiv>\r\n        <NameEmailForm onSubmit={handleSubmit} />\r\n      </FormDiv>\r\n    </ImageContainer>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}